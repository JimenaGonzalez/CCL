\hypertarget{ccl__redshifts_8c}{}\section{ccl\+\_\+redshifts.\+c File Reference}
\label{ccl__redshifts_8c}\index{ccl\+\_\+redshifts.\+c@{ccl\+\_\+redshifts.\+c}}
{\ttfamily \#include $<$stdio.\+h$>$}\newline
{\ttfamily \#include $<$stdlib.\+h$>$}\newline
{\ttfamily \#include $<$math.\+h$>$}\newline
{\ttfamily \#include $<$gsl/gsl\+\_\+integration.\+h$>$}\newline
{\ttfamily \#include $<$gsl/gsl\+\_\+spline.\+h$>$}\newline
{\ttfamily \#include $<$gsl/gsl\+\_\+errno.\+h$>$}\newline
{\ttfamily \#include \char`\"{}ccl.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}ccl\+\_\+params.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}ccl\+\_\+redshifts.\+h\char`\"{}}\newline
\subsection*{Data Structures}
\begin{DoxyCompactItemize}
\item 
struct \mbox{\hyperlink{structpz__params}{pz\+\_\+params}}
\item 
struct \mbox{\hyperlink{structnorm__params}{norm\+\_\+params}}
\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{structpz__info}{pz\+\_\+info}} $\ast$ \mbox{\hyperlink{ccl__redshifts_8c_af02a45c294befea7cef5f0be05a5658d}{ccl\+\_\+create\+\_\+photoz\+\_\+info}} (void $\ast$params, double($\ast$pz\+\_\+func)(double, double, void $\ast$, int $\ast$))
\item 
double \mbox{\hyperlink{ccl__redshifts_8c_ae2c8ccc63807abd82914c90eef26b76b}{gaussian\+\_\+pz}} (double z\+\_\+ph, double z\+\_\+s, void $\ast$params, int $\ast$status)
\item 
\mbox{\hyperlink{structpz__info}{pz\+\_\+info}} $\ast$ \mbox{\hyperlink{ccl__redshifts_8c_a5515ce8720230ae24c5274c83e84f0ad}{ccl\+\_\+create\+\_\+gaussian\+\_\+photoz\+\_\+info}} (double sigma\+\_\+z0)
\item 
void \mbox{\hyperlink{ccl__redshifts_8c_a8c4c56ef64d822376e966ba4defb46cc}{ccl\+\_\+free\+\_\+photoz\+\_\+info}} (\mbox{\hyperlink{structpz__info}{pz\+\_\+info}} $\ast$my\+\_\+photoz\+\_\+info)
\item 
\mbox{\hyperlink{structd_ndz__info}{d\+Ndz\+\_\+info}} $\ast$ \mbox{\hyperlink{ccl__redshifts_8c_a7948b3beac30c7ab979119af8b9e4962}{ccl\+\_\+create\+\_\+d\+Ndz\+\_\+info}} (void $\ast$params, double($\ast$d\+Ndz\+\_\+func)(double, void $\ast$, int $\ast$))
\item 
double \mbox{\hyperlink{ccl__redshifts_8c_aa454c2b3d0d135e4a9fcd8741b267d02}{d\+Ndz\+\_\+smail}} (double z, void $\ast$params, int $\ast$status)
\item 
\mbox{\hyperlink{structd_ndz__info}{d\+Ndz\+\_\+info}} $\ast$ \mbox{\hyperlink{ccl__redshifts_8c_a9c6353bc19fbff73d32ee4345733f034}{ccl\+\_\+create\+\_\+\+Smail\+\_\+d\+Ndz\+\_\+info}} (double alpha, double beta, double z0)
\item 
void \mbox{\hyperlink{ccl__redshifts_8c_a50246ddf63a5b3bc64e29d5ea3634df5}{ccl\+\_\+free\+\_\+d\+Ndz\+\_\+info}} (\mbox{\hyperlink{structd_ndz__info}{d\+Ndz\+\_\+info}} $\ast$my\+\_\+d\+Ndz\+\_\+info)
\item 
void \mbox{\hyperlink{ccl__redshifts_8c_ac48dbc3c488fb83f13609cbc8e54fa74}{ccl\+\_\+d\+Ndz\+\_\+tomog}} (double z, double bin\+\_\+zmin, double bin\+\_\+zmax, \mbox{\hyperlink{structpz__info}{pz\+\_\+info}} $\ast$photo\+\_\+info, \mbox{\hyperlink{structd_ndz__info}{d\+Ndz\+\_\+info}} $\ast$d\+N\+\_\+info, double $\ast$tomoout, int $\ast$status)
\end{DoxyCompactItemize}


\subsection{Function Documentation}
\mbox{\Hypertarget{ccl__redshifts_8c_a7948b3beac30c7ab979119af8b9e4962}\label{ccl__redshifts_8c_a7948b3beac30c7ab979119af8b9e4962}} 
\index{ccl\+\_\+redshifts.\+c@{ccl\+\_\+redshifts.\+c}!ccl\+\_\+create\+\_\+d\+Ndz\+\_\+info@{ccl\+\_\+create\+\_\+d\+Ndz\+\_\+info}}
\index{ccl\+\_\+create\+\_\+d\+Ndz\+\_\+info@{ccl\+\_\+create\+\_\+d\+Ndz\+\_\+info}!ccl\+\_\+redshifts.\+c@{ccl\+\_\+redshifts.\+c}}
\subsubsection{\texorpdfstring{ccl\+\_\+create\+\_\+d\+Ndz\+\_\+info()}{ccl\_create\_dNdz\_info()}}
{\footnotesize\ttfamily \mbox{\hyperlink{structd_ndz__info}{d\+Ndz\+\_\+info}}$\ast$ ccl\+\_\+create\+\_\+d\+Ndz\+\_\+info (\begin{DoxyParamCaption}\item[{void $\ast$}]{params,  }\item[{double($\ast$)(double, void $\ast$, int $\ast$)}]{d\+Ndz\+\_\+func }\end{DoxyParamCaption})}

This function creates a structure amalgamating the information on an analytic true d\+Ndz, plus some parameters. 
\begin{DoxyParams}{Parameters}
{\em params} & parameters for the analytic d\+Ndz form \\
\hline
{\em d\+Ndz\+\_\+func} & d\+Ndz function \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
a structure with the d\+Ndz and parameters 
\end{DoxyReturn}
\mbox{\Hypertarget{ccl__redshifts_8c_a5515ce8720230ae24c5274c83e84f0ad}\label{ccl__redshifts_8c_a5515ce8720230ae24c5274c83e84f0ad}} 
\index{ccl\+\_\+redshifts.\+c@{ccl\+\_\+redshifts.\+c}!ccl\+\_\+create\+\_\+gaussian\+\_\+photoz\+\_\+info@{ccl\+\_\+create\+\_\+gaussian\+\_\+photoz\+\_\+info}}
\index{ccl\+\_\+create\+\_\+gaussian\+\_\+photoz\+\_\+info@{ccl\+\_\+create\+\_\+gaussian\+\_\+photoz\+\_\+info}!ccl\+\_\+redshifts.\+c@{ccl\+\_\+redshifts.\+c}}
\subsubsection{\texorpdfstring{ccl\+\_\+create\+\_\+gaussian\+\_\+photoz\+\_\+info()}{ccl\_create\_gaussian\_photoz\_info()}}
{\footnotesize\ttfamily \mbox{\hyperlink{structpz__info}{pz\+\_\+info}}$\ast$ ccl\+\_\+create\+\_\+gaussian\+\_\+photoz\+\_\+info (\begin{DoxyParamCaption}\item[{double}]{sigma\+\_\+z0 }\end{DoxyParamCaption})}

This function creates a structure containing the photo-\/z model for the built-\/in Gaussian photo-\/z pdf. 
\begin{DoxyParams}{Parameters}
{\em sigma\+\_\+z0} & The photo-\/z uncertainty at z=0. The photo-\/z uncertainty is assumed to scale like (1 + z). \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
a structure with the built-\/in Gaussian P(z) and parameters 
\end{DoxyReturn}
\mbox{\Hypertarget{ccl__redshifts_8c_af02a45c294befea7cef5f0be05a5658d}\label{ccl__redshifts_8c_af02a45c294befea7cef5f0be05a5658d}} 
\index{ccl\+\_\+redshifts.\+c@{ccl\+\_\+redshifts.\+c}!ccl\+\_\+create\+\_\+photoz\+\_\+info@{ccl\+\_\+create\+\_\+photoz\+\_\+info}}
\index{ccl\+\_\+create\+\_\+photoz\+\_\+info@{ccl\+\_\+create\+\_\+photoz\+\_\+info}!ccl\+\_\+redshifts.\+c@{ccl\+\_\+redshifts.\+c}}
\subsubsection{\texorpdfstring{ccl\+\_\+create\+\_\+photoz\+\_\+info()}{ccl\_create\_photoz\_info()}}
{\footnotesize\ttfamily \mbox{\hyperlink{structpz__info}{pz\+\_\+info}}$\ast$ ccl\+\_\+create\+\_\+photoz\+\_\+info (\begin{DoxyParamCaption}\item[{void $\ast$}]{params,  }\item[{double($\ast$)(double, double, void $\ast$, int $\ast$)}]{pz\+\_\+func }\end{DoxyParamCaption})}

This function creates a structure amalgamating the information on the photo-\/z model, P(z) plus some parameters. 
\begin{DoxyParams}{Parameters}
{\em params} & parameters for the P(z) function \\
\hline
{\em pz\+\_\+func} & P(z) function \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
a structure with the P(z) and parameters 
\end{DoxyReturn}
\mbox{\Hypertarget{ccl__redshifts_8c_a9c6353bc19fbff73d32ee4345733f034}\label{ccl__redshifts_8c_a9c6353bc19fbff73d32ee4345733f034}} 
\index{ccl\+\_\+redshifts.\+c@{ccl\+\_\+redshifts.\+c}!ccl\+\_\+create\+\_\+\+Smail\+\_\+d\+Ndz\+\_\+info@{ccl\+\_\+create\+\_\+\+Smail\+\_\+d\+Ndz\+\_\+info}}
\index{ccl\+\_\+create\+\_\+\+Smail\+\_\+d\+Ndz\+\_\+info@{ccl\+\_\+create\+\_\+\+Smail\+\_\+d\+Ndz\+\_\+info}!ccl\+\_\+redshifts.\+c@{ccl\+\_\+redshifts.\+c}}
\subsubsection{\texorpdfstring{ccl\+\_\+create\+\_\+\+Smail\+\_\+d\+Ndz\+\_\+info()}{ccl\_create\_Smail\_dNdz\_info()}}
{\footnotesize\ttfamily \mbox{\hyperlink{structd_ndz__info}{d\+Ndz\+\_\+info}}$\ast$ ccl\+\_\+create\+\_\+\+Smail\+\_\+d\+Ndz\+\_\+info (\begin{DoxyParamCaption}\item[{double}]{alpha,  }\item[{double}]{beta,  }\item[{double}]{z0 }\end{DoxyParamCaption})}

This function creates a structure containing the true d\+Ndz for the built-\/in Smail-\/type analytic form\+: d\+Ndz $\sim$ z$^\wedge$alpha exp(-\/ (z/z0)$^\wedge$beta) 
\begin{DoxyParams}{Parameters}
{\em alpha} & \\
\hline
{\em z0} & \\
\hline
{\em beta} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
a structure with the built-\/in Smail-\/type d\+Ndz and parameters 
\end{DoxyReturn}
\mbox{\Hypertarget{ccl__redshifts_8c_ac48dbc3c488fb83f13609cbc8e54fa74}\label{ccl__redshifts_8c_ac48dbc3c488fb83f13609cbc8e54fa74}} 
\index{ccl\+\_\+redshifts.\+c@{ccl\+\_\+redshifts.\+c}!ccl\+\_\+d\+Ndz\+\_\+tomog@{ccl\+\_\+d\+Ndz\+\_\+tomog}}
\index{ccl\+\_\+d\+Ndz\+\_\+tomog@{ccl\+\_\+d\+Ndz\+\_\+tomog}!ccl\+\_\+redshifts.\+c@{ccl\+\_\+redshifts.\+c}}
\subsubsection{\texorpdfstring{ccl\+\_\+d\+Ndz\+\_\+tomog()}{ccl\_dNdz\_tomog()}}
{\footnotesize\ttfamily void ccl\+\_\+d\+Ndz\+\_\+tomog (\begin{DoxyParamCaption}\item[{double}]{z,  }\item[{double}]{bin\+\_\+zmin,  }\item[{double}]{bin\+\_\+zmax,  }\item[{\mbox{\hyperlink{structpz__info}{pz\+\_\+info}} $\ast$}]{photo\+\_\+info,  }\item[{\mbox{\hyperlink{structd_ndz__info}{d\+Ndz\+\_\+info}} $\ast$}]{d\+N\+\_\+info,  }\item[{double $\ast$}]{tomoout,  }\item[{int $\ast$}]{status }\end{DoxyParamCaption})}

Return d\+Ndz in a particular tomographic bin, convolved with a photo-\/z model (defined by the user), and normalized. 
\begin{DoxyParams}{Parameters}
{\em z} & redshift \\
\hline
{\em d\+Ndz\+\_\+type} & the choice of d\+N/dz from Chang+ \\
\hline
{\em bin\+\_\+zmin} & the minimum redshift of the tomorgraphic bin \\
\hline
{\em bin\+\_\+zmax} & the maximum redshift of the tomographic bin \\
\hline
{\em photo\+\_\+info} & the P(z) info struct \\
\hline
{\em tomoout} & the output d\+N/dz \\
\hline
{\em status} & Status flag. 0 if there are no errors, nonzero otherwise. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
void 
\end{DoxyReturn}
\mbox{\Hypertarget{ccl__redshifts_8c_a50246ddf63a5b3bc64e29d5ea3634df5}\label{ccl__redshifts_8c_a50246ddf63a5b3bc64e29d5ea3634df5}} 
\index{ccl\+\_\+redshifts.\+c@{ccl\+\_\+redshifts.\+c}!ccl\+\_\+free\+\_\+d\+Ndz\+\_\+info@{ccl\+\_\+free\+\_\+d\+Ndz\+\_\+info}}
\index{ccl\+\_\+free\+\_\+d\+Ndz\+\_\+info@{ccl\+\_\+free\+\_\+d\+Ndz\+\_\+info}!ccl\+\_\+redshifts.\+c@{ccl\+\_\+redshifts.\+c}}
\subsubsection{\texorpdfstring{ccl\+\_\+free\+\_\+d\+Ndz\+\_\+info()}{ccl\_free\_dNdz\_info()}}
{\footnotesize\ttfamily void ccl\+\_\+free\+\_\+d\+Ndz\+\_\+info (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structd_ndz__info}{d\+Ndz\+\_\+info}} $\ast$}]{d\+N\+\_\+info }\end{DoxyParamCaption})}

Free memory holding the structure containing d\+Ndz information. 
\begin{DoxyParams}{Parameters}
{\em d\+N\+\_\+info} & that holds user-\/defined d\+Ndz and parameters \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
void 
\end{DoxyReturn}
\mbox{\Hypertarget{ccl__redshifts_8c_a8c4c56ef64d822376e966ba4defb46cc}\label{ccl__redshifts_8c_a8c4c56ef64d822376e966ba4defb46cc}} 
\index{ccl\+\_\+redshifts.\+c@{ccl\+\_\+redshifts.\+c}!ccl\+\_\+free\+\_\+photoz\+\_\+info@{ccl\+\_\+free\+\_\+photoz\+\_\+info}}
\index{ccl\+\_\+free\+\_\+photoz\+\_\+info@{ccl\+\_\+free\+\_\+photoz\+\_\+info}!ccl\+\_\+redshifts.\+c@{ccl\+\_\+redshifts.\+c}}
\subsubsection{\texorpdfstring{ccl\+\_\+free\+\_\+photoz\+\_\+info()}{ccl\_free\_photoz\_info()}}
{\footnotesize\ttfamily void ccl\+\_\+free\+\_\+photoz\+\_\+info (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structpz__info}{pz\+\_\+info}} $\ast$}]{my\+\_\+photoz\+\_\+info }\end{DoxyParamCaption})}

Free memory holding the structure containing user-\/input photoz information. 
\begin{DoxyParams}{Parameters}
{\em my\+\_\+photoz\+\_\+info} & that holds user-\/defined P(z) and parameters \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
void 
\end{DoxyReturn}
\mbox{\Hypertarget{ccl__redshifts_8c_aa454c2b3d0d135e4a9fcd8741b267d02}\label{ccl__redshifts_8c_aa454c2b3d0d135e4a9fcd8741b267d02}} 
\index{ccl\+\_\+redshifts.\+c@{ccl\+\_\+redshifts.\+c}!d\+Ndz\+\_\+smail@{d\+Ndz\+\_\+smail}}
\index{d\+Ndz\+\_\+smail@{d\+Ndz\+\_\+smail}!ccl\+\_\+redshifts.\+c@{ccl\+\_\+redshifts.\+c}}
\subsubsection{\texorpdfstring{d\+Ndz\+\_\+smail()}{dNdz\_smail()}}
{\footnotesize\ttfamily double d\+Ndz\+\_\+smail (\begin{DoxyParamCaption}\item[{double}]{z,  }\item[{void $\ast$}]{params,  }\item[{int $\ast$}]{status }\end{DoxyParamCaption})}

\mbox{\Hypertarget{ccl__redshifts_8c_ae2c8ccc63807abd82914c90eef26b76b}\label{ccl__redshifts_8c_ae2c8ccc63807abd82914c90eef26b76b}} 
\index{ccl\+\_\+redshifts.\+c@{ccl\+\_\+redshifts.\+c}!gaussian\+\_\+pz@{gaussian\+\_\+pz}}
\index{gaussian\+\_\+pz@{gaussian\+\_\+pz}!ccl\+\_\+redshifts.\+c@{ccl\+\_\+redshifts.\+c}}
\subsubsection{\texorpdfstring{gaussian\+\_\+pz()}{gaussian\_pz()}}
{\footnotesize\ttfamily double gaussian\+\_\+pz (\begin{DoxyParamCaption}\item[{double}]{z\+\_\+ph,  }\item[{double}]{z\+\_\+s,  }\item[{void $\ast$}]{params,  }\item[{int $\ast$}]{status }\end{DoxyParamCaption})}

